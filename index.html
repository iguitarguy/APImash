<html>

<head>
	<title>API mashup</title>
	<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w" crossorigin="anonymous">
	<script
	src="https://code.jquery.com/jquery-3.3.1.js"
	integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
	crossorigin="anonymous"></script>
	<style>
	body {
	   margin-top: 100px;
	   margin-left: 100px;
	}
	</style>
</head>

<body>
	<h3>Enter Stock Quote</h3>
	<form class="pure-form">
	<input type="text" class="pure-input-rounded" id="quote">
	<button type="submit" class="pure-button" id="search">Search</button>
	<button class="pure-button" onclick="stockClearFunction()">Reset</button>
	</form>

	<p id= "stocks"></p>

	<script>
		$('#search').click(function(e) {
			 e.preventDefault();
			 var stock = $('#quote').val();
			 $.getJSON('https://api.iextrading.com/1.0/stock/' + stock + '/quote', function(json){
				document.getElementById("stocks").innerHTML =("Current price of " + stock + ": " + json['latestPrice']);
			 });
		});
		function stockClearFunction(){
			document.getElementById("stocks").innerHTML ="";
		}
	</script>

	<hr>
	<h3>Input Artist and Song, Get Lyrics!</h3>
	<form class="pure-form">
	Artist: <input type="text" class="pure-input-rounded" id="artist">
	Song: <input type="text" class="pure-input-rounded" id="song">
	<button type="submit" class="pure-button" id="input">Show Lyrics</button>
	<button class="pure-button" onclick="lyricsClearFunction() id="reset">Reset</button>
	</form>

	<p id= "lyrics"></p>

	<script>
		$('#input').click(function(e) {
			e.preventDefault();
			var artistname = $('#artist').val();
			var songname = $('#song').val();
			$.getJSON('https://api.lyrics.ovh/v1/' + artistname + '/' + songname, function(json){
				document.getElementById("lyrics").innerHTML = ((json['lyrics']));
			});
		});
		function lyricsClearFunction(){
			document.getElementById("lyrics").innerHTML ="";
		}
	</script>


	<hr>
	<h3>Joke Button</h3>
	<button class="pure-button" onclick="jokeFunction()">Show me the joke!</button>
	<script>
		function jokeFunction(){
			$.getJSON('https://08ad1pao69.execute-api.us-east-1.amazonaws.com/dev/random_joke', function(json){
				alert(json['setup']);
				alert(json['punchline']);
			});
		}
	</script>

	<hr>
	<h3>Show IP Button</h3>
	<button class="pure-button" onclick="ipFunction()">Show me my IP!</button>
	<button class="pure-button" onclick="ipClearFunction()">Reset</button>
	<p id= "ipaddress"></p>

	<script>
		function ipFunction(){
			$.getJSON('https://api.ipify.org/?format=json', function(json){
				document.getElementById("ipaddress").innerHTML =(json['ip']);
			});
		}
		function ipClearFunction(){
			document.getElementById("ipaddress").innerHTML ="";
		}
	</script>
	
	<hr>
	<h3>Enter YouTube Video ID (/watch?v=IDisRightHere)</h3>
	<form class="pure-form">
	<input type="text" class="pure-input-rounded" id="videoid">
	<button type="submit" class="pure-button" id="load">Load Video!</button>
	</form>	
	
	<!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
    <div id="player"></div>

    <script>
		var varid;
		$('#load').click(function(e) {
			 e.preventDefault();
			 varid = $('#videoid').val();
			 var tag = document.createElement('script');

			 tag.src = "https://www.youtube.com/iframe_api";
			 var firstScriptTag = document.getElementsByTagName('script')[0];
			 firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
			 var player;
		});
      
		function onYouTubeIframeAPIReady() {
			player = new YT.Player('player', {
				height: '390',
				width: '640',
				videoId: varid,
				events: {
					'onReady': onPlayerReady,
					'onStateChange': onPlayerStateChange
				}
			});
		}
		function onPlayerReady(event) {
			event.target.playVideo();
		}
		var done = false;
		function onPlayerStateChange(event) {
			if (event.data == YT.PlayerState.PLAYING && !done) {
				//setTimeout(stopVideo, 6000);
				done = true;
			}
		}
		function stopVideo() {
			player.stopVideo();
		}
    </script>


</body>
</html>
